<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Incoming Payment — Customer View</title>
<style>
  :root{--bg:#f4f7fb;--card:#fff;--accent:#0b6bff;--muted:#6b7280;--success:#065f46;--pending:#f59e0b;--processing:#3b82f6}
  body{font-family:Inter,ui-sans-serif,system-ui,Arial,sans-serif;background:var(--bg);margin:0;padding:24px;color:#0f172a}
  .wrap{max-width:840px;margin:0 auto}
  .card{background:var(--card);border-radius:12px;box-shadow:0 6px 18px rgba(12,40,80,0.06);padding:22px;margin-bottom:16px}
  h1{font-size:18px;margin:0 0 8px}
  p.lead{margin:0;color:var(--muted)}
  .row{display:flex;gap:12px;flex-wrap:wrap;margin-top:16px}
  .col{flex:1;min-width:180px}
  .label{font-size:12px;color:var(--muted);margin-bottom:6px}
  .value{font-weight:600;font-size:16px}
  .amount{font-size:20px;color:var(--accent)}
  .small{font-size:13px;color:var(--muted)}
  .btns{display:flex;gap:8px;margin-top:14px}
  button{background:var(--accent);border:none;color:#fff;padding:10px 12px;border-radius:8px;cursor:pointer;font-weight:600}
  button.secondary{background:#eef2ff;color:var(--accent);border:1px solid rgba(11,107,255,0.12)}
  .status{display:inline-block;padding:6px 10px;border-radius:999px;font-weight:700}
  .status.success{background:#ecfdf5;color:var(--success);border:1px solid rgba(6,95,70,0.08)}
  .status.pending{background:#fff7ed;color:var(--pending);border:1px solid rgba(245,158,11,0.2)}
  .status.processing{background:#e0f2fe;color:var(--processing);border:1px solid rgba(59,130,246,0.2)}
  .beneficiary-pending{background:#fff7ed;color:var(--pending);border:1px solid rgba(245,158,11,0.2);}
  .muted-line{height:1px;background:#eef2f7;margin:16px -22px}
  .copy{display:inline-flex;align-items:center;gap:8px;background:#f8fafc;padding:8px;border-radius:8px;border:1px dashed #e6eefc}
  .copy button{background:transparent;color:var(--accent);padding:6px;border-radius:6px;border:1px solid rgba(11,107,255,0.12)}
  .note{font-size:13px;color:var(--muted);margin-top:8px}
  .swift-list{font-size:13px;color:#6b7280;margin-top:4px; line-height:1.5}
  .flow-container{display:flex;align-items:center;justify-content:space-between;margin-top:30px}
  .flow-step{text-align:center;flex:1;position:relative;cursor:pointer}
  .flow-step .icon{width:50px;height:50px;background:#eef2f7;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto;font-weight:bold;color:#0b6bff}
  .flow-step .label{margin-top:6px;font-size:12px;color:#6b7280}
  .flow-step .status{margin-top:4px;display:inline-block;padding:4px 8px;font-size:11px}
  .flow-step::after{content:'';position:absolute;top:25px;right:-50%;height:2px;background:#d1d5db;width:100%;z-index:-1}
  .flow-step:last-child::after{display:none}
  @media (max-width:600px){.flow-container{flex-direction:column}.flow-step::after{display:none;margin:0}}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>Incoming Payment</h1>
    <p class="lead">Below are the key details of funds received. This view is for the customer only and sensitive account details are partially masked.</p>
    <br>
    <h1>Uetr code</h1>
    <p class="lead">0b99fc6c-c967-4ece-8ff8-5d8a90257c8c</p>

    <div class="row">
      <div class="col">
        <div class="label">Status</div>
        <div class="value"><span class="status" id="topStatus"></span></div>
      </div>
      <div class="col">
        <div class="label">Amount</div>
        <div class="value amount">EUR 20,000,000.00</div>
      </div>
      <div class="col">
        <div class="label">Sent date:</div>
        <div class="value">19-Nov-2025</div>
      </div>
      <div class="col">
        <div class="label">Value date:</div>
        <div class="value">21-Nov-2025</div>
      </div>
    </div>

    <div class="muted-line"></div>

    <div class="row">
      <div class="col">
        <div class="label">Ordering Beneficiary / Ordering Party</div>
        <div class="value">MMG Capital Limited</div>
        <div class="small"></div>
        <br>
        <div class="label">Sender / Ordering Party</div>
        <div class="value">Banque Cramer & Cie SA</div>
        <div class="small">Zurich, Switzerland</div>
        <br>
        <div class="label">Beneficiary Customer / Ordering Party</div>
        <div class="value">Pandally Invest Co.,Limited</div>
        <div class="small">Hong Kong.</div>
        <br>
        <div class="label">Bank reciever / Ordering Party</div>
        <div class="value">OCBCBANK</div>
        <div class="small">Hong Kong</div>
      </div>
      <div class="col">
        <div class="label">Sender Account</div>
        <div class="value">CH45 **** **** **** **** 2002</div>
        <div class="small">(Full IBAN stored securely in bank)</div>
        <br><br><br><br>
        <div class="label">Beneficiary Account</div>
        <div class="value">802- **** **** **** **** 0831</div>
        <div class="small">(Full IBAN stored securely in bank)</div>
      </div>
    </div>

    <div class="muted-line"></div>

    <div class="row">
      <div class="col">
        <div class="label">Reference / Purpose</div>
        <div class="value small">Payment for Agreement No. AG/SJU-004956</div>
      </div>
      <div class="col">
        <div class="label">Transaction Reference (ISO 20022)</div>
        <div class="copy">
          <div class="small" id="txRef">COBA300525CH59279</div>
          <button id="copyBtn">Copy</button>
        </div>
        <div class="swift-list">
          Sender BIC: CRAMCHGG<br>
          Intermediary BIC: COBADEFFXXX<br>
          Beneficiary BIC: WIHBHKHH<br>
        </div>
      </div>
    </div>

    <div class="flow-container">
      <div class="flow-step debtor">
        <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bank2" viewBox="0 0 16 16">
  <path d="M8.277.084a.5.5 0 0 0-.554 0l-7.5 5A.5.5 0 0 0 .5 6h1.875v7H1.5a.5.5 0 0 0 0 1h13a.5.5 0 1 0 0-1h-.875V6H15.5a.5.5 0 0 0 .277-.916zM12.375 6v7h-1.25V6zm-2.5 0v7h-1.25V6zm-2.5 0v7h-1.25V6zm-2.5 0v7h-1.25V6zM8 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2M.5 15a.5.5 0 0 0 0 1h15a.5.5 0 1 0 0-1z"/>
</svg></div>
        <div class="label">Debtor Bank (CRAMCHGG)</div>
        <div class="status"></div>
      </div>
      <div class="flow-step intermediary">
        <div class="icon">➡️</div>
        <div class="label">Intermediary Bank (COBADEFFXXX)</div>
        <div class="status"></div>
      </div>
      <div class="flow-step beneficiary">
        <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bank2" viewBox="0 0 16 16">
  <path d="M8.277.084a.5.5 0 0 0-.554 0l-7.5 5A.5.5 0 0 0 .5 6h1.875v7H1.5a.5.5 0 0 0 0 1h13a.5.5 0 1 0 0-1h-.875V6H15.5a.5.5 0 0 0 .277-.916zM12.375 6v7h-1.25V6zm-2.5 0v7h-1.25V6zm-2.5 0v7h-1.25V6zm-2.5 0v7h-1.25V6zM8 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2M.5 15a.5.5 0 0 0 0 1h15a.5.5 0 1 0 0-1z"/>
</svg></div>
        <div class="label">Beneficiary Bank (WIHBHKHH)</div>
        <div class="status"></div>
      </div>
    </div>

    <div class="btns">
      <button id="downloadBtn">Download Receipt (PDF)</button>
      <button class="secondary" id="helpBtn">Help / FAQ</button>
    </div>

    <p class="note">Note: The information shown here is for reference purposes only. For questions regarding this payment, contact your bank's customer support.</p>
  </div>
</div>

<script>
  const statuses = {
    debtor: 'pending',
    intermediary: 'Accepted/Processing',
    beneficiary: 'pending' // Top status
  };

  const beneficiaryFlowStatus = ''; // Flow-step müstəqil

  function displayText(status){
    if(status === 'success') return 'Received';
    return status.charAt(0).toUpperCase() + status.slice(1);
  }

  function updateStatuses(){
    // Debtor və Intermediary
    const debtor = document.querySelector('.flow-step.debtor .status');
    debtor.innerText = displayText(statuses.debtor);
    debtor.className = `status ${statuses.debtor}`;

    const intermediary = document.querySelector('.flow-step.intermediary .status');
    intermediary.innerText = displayText(statuses.intermediary);
    intermediary.className = `status ${statuses.intermediary}`;

    // Beneficiary Flow-step müstəqil Pending
    const beneficiary = document.querySelector('.flow-step.beneficiary .status');
    beneficiary.innerText = displayText(beneficiaryFlowStatus);
    beneficiary.className = 'status beneficiary-pending';

    // TopStatus üçün ayrıca
    const topStatus = document.getElementById('topStatus');
    topStatus.innerText = displayText(statuses.beneficiary);
    topStatus.className = 'status pending';
  }

  updateStatuses();

  document.getElementById('copyBtn').addEventListener('click', function(){
    const txt = document.getElementById('txRef').innerText;
    navigator.clipboard.writeText(txt).then(()=>{
      const old = this.innerText; this.innerText='Copied';
      setTimeout(()=> this.innerText=old,1300);
    }).catch(()=> alert('Copy failed'));
  });

  document.getElementById('downloadBtn').addEventListener('click', function(){
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    let y = 20;
    doc.setFontSize(12);
    doc.text(`Transaction Reference (ISO 20022): ${document.getElementById('txRef').innerText}`, 10, y); y+=10;
    doc.text(`Status: ${displayText(statuses.beneficiary)}`, 10, y); y+=10;
    doc.text(`Amount: EUR 20,000,000.00`, 10, y); y+=10;
    doc.text(`Date Received: 19-Nov-2025`, 10, y); y+=10;
    doc.text(`Sender / Ordering Party: Banque Cramer & Cie SA`, 10, y); y+=10;
    doc.text(`Sender Account: CH45 **** **** **** **** 2002`, 10, y); y+=10;
    doc.text(`Beneficiary Account: 802- **** **** **** **** 0831`, 10, y); y+=10;
    doc.text(`Reference / Purpose: Payment for Agreement No. AG/SJU-004956`, 10, y); y+=10;
    doc.text(`SWIFT Info:`, 10, y); y+=10;
    doc.text(`Sender BIC: CRAMCHGG`, 10, y); y+=10;
    doc.text(`Intermediary BIC: COBADEFFXXX`, 10, y); y+=10;
    doc.text(`Beneficiary BIC: WIHBHKHH`, 10, y);
    doc.save('incoming_payment_receipt.pdf');
  });

  document.getElementById('helpBtn').addEventListener('click', function(){
    alert("If you encounter any difficulties, you can contact us via info@swift-verify.com.");
  });
</script>
</body>
</html>
